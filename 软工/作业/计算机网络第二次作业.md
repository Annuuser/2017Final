### 计算机网络第二次作业



------

#### 1.5 什么是分组交换，为什么因特网与分组交换有关

答：

**分组交换的定义**：

* 分组交换把数据划分成许多小的数据块（称为“分组”），并在每个分组中加进目标接收方的标识信息。
* 遍布网络的所有交换设备都保存有分组如何抵达所有可能目的地的有关信息。
* 当一个分组到达任一个交换设备时，该设备就会选择一条路径，分组沿着这条路径被最重传送到正确的目的地。

**因特网与分组交换的关系**：

* **早期通信网络结构**
  * 早期的通信网络是从电话和电报通信系统演变而来的，这两种原始的系统只是利用一对物理导线将通信双方连接	起来形成一条通信线路。
  * 虽然这种导线的机械连接已经被电子交换所替代，但是底层的结构模式仍然维持原样，即形成一条通信线路，然后通过该线路传送信息。
* **分组交换改变了联网方法**
  * 分组交换从根本上改变了联网方法，并奠定了现代因特网的基础——分组交换允许多个通信方通过一个共享的网络传送数据，而不是形成一条条专用的通信线路。
  * 尽管分组交换建立在与电话系统相同的最基本通信原理上，但它却是以一种崭新的方式来利用底层的通信机制。
* **不同网络技术采用不同分组技术**
  * 开发每一种网络技术都是为了满足在速率、距离和经济成本等方面的不同要求，因而存在多种分组交换技术，各种技术在细节（如分组长度、寻址方法）上是有差别的。


------

#### 13.11 给定一个IEEE的MAC地址，我们如何才能判定它是不是一个单播地址

答：

**MAC地址含义**：每台计算机都会分配一个唯一的地址，每个地址由48比特的二进制值组成

**MAC地址的划分方法**：如下图所示，具体解释为：

* 48位的地址划分成
  * 3字节的机构唯一标识符（OUI）用以标识设备制造商
    * 最高有效字节的2个低阶位包含特殊的含义
      * 最低位是一个多播位，用来规定它是一个单播地址（0）还是一个多播地址（1）
      * 另一位规定OUI是全局唯一的（0）还是本地分配的（1）
  * 3字节块用以标识一个特定的网络接口控制器（NIC） 

![New Doc 2017-12-01_1](/Users/yuannnn/Downloads/New Doc 2017-12-01_1.jpg)

 **综上，查看MAC地址中OUI中的最高有效字节的比特的最低位，如果为0则表示其是单播地址**



------

#### 13.12 试定义单播、多播和广播地址，并解释它们的含义

答： “单播”（Unicast）、“多播”（Multicast）和“广播”（Broadcast）这三个术语都是用来描述网络节点之间通讯方式的术语。 

**单播、多播和广播地址的定义：**

单播：唯一标识一台计算机，并规定只有被表示的那台计算机才能接受分组的副本

广播：对应所有的计算机，并规定网络上每台计算机都应该接受分组的副本

多播：标识指定网络上所有计算机的一个子集，并规定该子集中的每台计算机都应该接受分组的副本

**单播、多播和广播地址含义解释：**

* **单播：**
  * **解释：**网络节点之间的通信就好像是**人们之间的对话**一样。如果一个人对另外一个人说话，那么用网络技术的术语来描述就是“单播”，此时信息的接收和传递只在两个节点之间进行，参见图1。
  * **使用：**在收发电子邮件、浏览网页时，必须与邮件服务器、Web服务器建立连接，此时使用的就是单播数据传输方式。但是通常使用“点对点通信”（Point to Point）代替“单播”，因为“单播”一般与“多播”和“广播”相对应使用。

![屏幕快照 2017-12-01 下午6.18.04](../../../Desktop/屏幕快照 2017-12-01 下午6.18.04.png)

* **多播：**
  * **解释：**“多播”可以理解为**一个人向多个人（但不是在场的所有人）说话**，这样能够提高通话的效率。如果你要通知特定的某些人同一件事情，但是又不想让其他人知道，使用电话一个一个地通知就非常麻烦，而使用日常生活的大喇叭进行广播通知，就达不到只通知个别人的目的了，此时使用“多播”来实现就会非常方便快捷，但是现实生活中多播设备非常少。
  * **使用：**“多播”也可以称为“组播”，在网络技术的应用并不是很多，网上视频会议、网上视频点播特别适合采用多播方式。因为如果采用单播方式，逐个节点传输，有多少个目标节点，就会有多少次传送过程，这种方式显然效率极低，是不可取的；如果采用不区分目标、全部发送的广播方式，虽然一次可以传送完数据，但是显然达不到区分特定数据接收对象的目的。采用多播方式，既可以实现一次传送所有目标节点的数据，也可以达到只对特定对象传送数据的目的。
  * **实例：**IP网络的多播一般通过多播IP地址来实现。多播IP地址就是D类IP地址，即224.0.0.0至239.255.255.255之间的IP地址。Windows 2000中的DHCP管理器支持多播IP地址的自动分配。

![屏幕快照 2017-12-01 下午6.19.46](../../../Desktop/屏幕快照 2017-12-01 下午6.19.46.png)

* **广播：**
  * **解释：**“广播”可以理解为一个人通过广播喇叭对在场的全体说话，这样做的好处是通话效率高，信息一下子就可以传递到全体，如图3所示。
  * **使用：**“广播”在网络中的应用较多，如客户机通过DHCP自动获得IP地址的过程就是通过广播来实现的。但是同单播和多播相比，广播几乎占用了子网内网络的所有带宽。拿开会打一个比方吧，在会场上只能有一个人发言，想象一下如果所有的人同时都用麦克风发言，那会场上就会乱成一锅粥。
  * **实例：**在IP网络中，广播地址用IP地址“255.255.255.255”来表示，这个IP地址代表同一子网内所有的IP地址。

![屏幕快照 2017-12-01 下午6.22.00](../../../Desktop/屏幕快照 2017-12-01 下午6.22.19.png)

综上：

**多点传送（多播）：一对多个**

**直接广播（广播）：一对所有**

**单点传送（单播）：一对一**



------

#### 13.15 试给出术语帧的定义

答：在计算机网络通信中，帧（Frame）是定义数据在网络上传输的一种单位，帧由几部分比特位组合而成，不同的部分执行不同的功能。在分组交换网络中，每个帧都会对应一个分组。一个帧由两个概念部分组成：

* 包含元数据（如地址）的头部：包含一些用来处理帧的信息。特别是头部通常包含一个地址来指定期望的接收方。
* 包含发送数据的载荷：载荷域包含要发送的报文，并且它通常比帧头部大很多。在大多数网络技术中，网络只检查帧头部，在这个意义下，报文是不透明的。因此，载荷区可以包含任何只对发送方和接收方有意义的字节序列


------

#### 14.8 写出缩写CSMA/CD的全称，并解释每一部分的含义

答：**CSMA/CD是Carrier Sense Multiple Access with Collision Detection 的缩写，可译为“带冲突检测的载波侦听多址接入”。**其中包括如下技术：

- **载波侦听（carrier sense）**：以太网并不允许一个站点只要有分组做好了准备就可以发送，而是要求每个站点检测电缆，检测是否有另一个传输正在处理之中。这种机制就称为载波侦听，它组织了最明显的冲突问题，并且能充分提高网络的利用率
- **多路访问（multiple access)**，意思是网络上所有工作站收发数据共同使用同一条总线，且发送数据是广播式的。
- **冲突（collision）**，意思是若网上有两个或两个以上工作站同时发送数据，在总线上就会产生信号的混合，两个工作站都同时发送数据，在总线上就会产生信号的混合，两个工作站都辨别不出真正的数据是什么。这种情况称数据冲突又称碰撞。
- **冲突检测（collision detected）**，尽管采用了载波侦听技术，但是如果两个站点正在等待某一传输的结束，发现电缆空闲后同时启动发送过程的画，还是可能发生冲突。问题还有另外一个方面，即信号即使以光速传输，它沿整条电缆传递还是需要一些时间。因此电缆一端的站点无法立刻知道另一端的站点什么时候开始发送。为了处理冲突问题，每个站点在发送过程中都会检测电缆。如果发现电缆上的信号与本站发出去的信号不符，那就意味着出现了冲突。这就是冲突检测（collision detected）。只要检测到冲突，发送站点就会立即终止发送。
- **二进制退避算法（binary exponential backoff）**。以太网不仅要检测冲突，还要从冲突中恢复过来，在一个冲突发生之后，计算机必须等待电缆再次空闲后才能发送帧。与ALOHA网中的做法类似，以太网使用随机选择的办法来避免电缆一出现空闲就会有多个站点同时进行发送。做法是：标准规定一个最大延迟值，要求每个站点在冲突发生后选择一个小于d的随机延迟。在大多数情况下，当两个站点每个都选择一个随机值时，选择了较小延迟值得站点将先开始发送帧，于是网络就恢复正常运行了。


------

#### 14.11 为什么在无线网络上需要采用CSMA/CA

答：因为无线LAN中所用到的发射机有一个受限的发射范围。也就是说离发射机的距离超过首先范围的接收方将无法接收到信号，因而无法检测载波。

* **距离限制会造成CSMA/CD出现这种问题的原因：**如图14.6中，计算机1能与计算机2通信，但不能接受计算机3的信号。因此，如果计算机3向计算机2发送一个分组，计算机1的载波侦听机制将无法检测到这个传输过程。类似的，如果计算机1和计算机3同时发送分组，只有计算机2才能检测到冲突。这种问题有时候称为站点隐藏问题（hidden station problem），是指有些站点对其他站点来说是不可见的意思。
* **无线LAN接入协议：**为了保证所有站点都能正确的共享介质，无线LAN使用一种改进的接入协议，叫做避免冲突的载波侦听多址接入。无线LAN中使用的CSMA/CA并不依赖于所有计算机都能接受全部传输，而是在发送一个分组之前从预期的接收方除法一个很短的传输过程。其思想是，如果发送方和接收方都发送一个报文，那么处在这两台计算机任何一台范围内的所有其他计算机都将知道一个分组的传输即将开始。
* **无线LAN接入协议实例：**如图14.7中，计算机3发送一个短的报文宣告它准备向计算机2发送一个分组，而计算机2也发送一个短的报文作为响应，宣告它准备向计算机2发送一个分组，。在计算机3范围内的所有计算机将受到初始宣告，而计算机2范围内的所有计算机会接受响应报文。这样，即使计算机1不嗯呢该受到信号或侦听到载波，它也知道一个分组传输过程即将发生。
* **解决CSMA/CA控制报文冲突**：在使用CSMA/CA的时候控制报文也会发生冲突。例如图14.7中如果计算机1和计算机3试图同时向计算机2发送一个分组，他们的控制报文将会出现冲突。计算机2将检测到这种冲突，并不作出回应。当这种冲突发生时，发送站点应用随机退避算法，然后重发控制报文。因为控制报文比分组要短得多，所以发生第二次冲突的概率也笑了很多。最终两个控制报文中总有一个能正确到达，接着计算机2发送一个相应报文。

**总体来说，由于无线LAN中计算机的距离跨度大于信号的传播范围，因此无线LAN采用了CSMA/CA技术，发送计算机与接收计算机在分组传输开始前都会发送一个控制报文。**

![New Doc 2017-12-01 (1)_1](../../../Downloads/New Doc 2017-12-01 (1)_1.jpg)

![New Doc 2017-12-01 (1)_2](../../../Downloads/New Doc 2017-12-01 (1)_2.jpg)

------



#### 16.8 为什么大部分无线LAN采用基础结构型方案而不采用Ad hoc方案？

答：

无线LAN的3个构成单元是：**接入点**（非正式也叫基站），**互连机构**（例如用于连接接入点的交换机或者路由器），**一组无线主机**（也称为无线节点或者无线站点）。原理上，有可能实现两种类型的无线LAN：

* 自组织网络（Ad hoc）—— 无线主机之间相互通信，不使用基站
* 基础结构型（infrastructure）—— 一台无线主机只与一个接入点通信，由接入点转发所有分组

实际中，很少有Ad hoc网络，更多的是基础结构型网络，即一个组织或服务提供商部署一组接入点，然后每台无线主机通过其中的一个接入点进行通信。主要原因如下：

* **安全性问题**：
  * 无线信道更容易受到各种攻击。Ad Hoc网络节点间通信通过无线信道，传输的信息非常容易受到监听、重发、篡改、伪造等各种攻击，如果路由协议一旦遭受到上述恶意攻击，整个自足网络将无法正常工作。
  * 路由算法复杂。这些特点对设计Ad Hoc网络路由算法提出了特殊的要求，一个合理的路由算法必须考虑有限的网络资源、动态变化的网络拓扑结构、提高网络吞吐量等方面的因素
  * 缺乏物理保护使得攻击可能来自内部
  * 移动性使得节点之间的信任关系不断变化
  * 安全策略应具有可扩展性
* **有限的资源**：提供给Ad Hoc网络中移动主机的工作能量是有限的，而且移动主机损耗能量越多，将降低Ad Hoc网络功能。另一方面，网络本身提供宽带有限以及信号之间的冲突和干扰，使移动主机可得到的有限的传输宽带将远远小于理论上的最大宽带。
* **多跳通信**：两个网络节点由于受到可用资源的限制，不能处在同一个覆盖网络内，可采用Ad Hoc网络多跳通信，实现不同覆盖网络之间的源主机与目的主机之间的通信。在普通AP接入网络中，和远程节点通信的时候，靠的是AP和无线路由来转发数据和报文。在Ad Hoc网中，两台计算机之间的通信是靠点到点的传输方式，如果两台计算机距离超过无线信号的覆盖范围，那么就需要中间节点的计算机来转发数据了，这个就是多跳路由了。与固定网络的多跳不同，Ad Hoc网络中的多跳路由是由普通的网络节点完成的，而不是由专用的路由设备来完成。
* **网络管理：**
  * 拓扑管理：确定一种将一组节点组织成网络的机制
  * 移动性管理：跟踪网络内移动节点的位置
  * 服务质量保证：多跳拓扑动态变化的MANET服务质量保
    证仍然是个问题
  * 地址自动配置
* **限制ad hoc网络的其他因素**
  * 无线通信技术：受限于底层无线通信技术的性能（传输率、延迟、吞吐量）
  * 节点密度：密度越高传输路径的跳数越多，受网络拓扑变化的影响就越明显。
  * 节点移动速度：速度越高节点间的拓扑结构的稳定性越差，路由计算和交换负载越大。
  * 通信负荷和通信模式：流量特性和分布将直接影响到网络的吞吐性能。

**因为上述条件的限制，现在大部分无线LAN采用基础结构型方案而不采用Ad hoc方案**。



------

#### 16.9 为什么一台无线计算机必须与一个具体的基站相关联

答：

**无线主机需要与基站相关联**：在基于基础结构性的无线LAN中，每一台无线主机通过一个接入点（非正式也叫基站）进行通信。如图16.7所示

**无线主机只跟单一接入点相关联**：在实际应用中，很多细节问题使得基础结构型的体系结构变得很复杂。一方面，如果有一对接入点相距太远，这两者之间会出现一个无信号的盲区，即没有任何无线连接中的物理位置。另一方面，如果有一对接入点相距太紧，将会出现一个重叠区，在这个区域中，一台无线主机可以同时触及到两个接入点。为了解决重叠问题，802.11网络要求一台无线主机只跟单一接入点相关联。也就是说一台无线主机发送帧到特定的接入点，然后通过网络转发。当使用基础结构型体系结构时，帧同时懈怠了接入点的MAC地址和Internet路由器的MAC地址。

![New Doc 2017-12-01 (2)_1](../../../Downloads/New Doc 2017-12-01 (2)_1.png)

------

#### 17.11 根据图17.6，连接到一个交换式LAN中的两台计算机是否能同时传输分组？请解释

![New Doc 2017-12-01 (2)_2的副本](../../../Downloads/New Doc 2017-12-01 (2)_2的副本.png)

答：**如果交换机有四个或四个以上的端口，设端口数量为N，则当同一时间下该交换机中分组传输的数量不超过N/2-2时，则连接到该交换机上的两台计算机可以同时传输分组。**

交换机中包括一个连接各个端口的智能接口和一个可以为各对接口间提供同时传输的中央结构单元。智能接口实现的功能包括：接收进入的分组、查询转发表以及经中央结构单元发送分组到正确的输出端口。接口也接收来自中央结构单元的分组，并将其发往对应端口。最重要的是接口拥有存储器，它能在输出端口繁忙时缓存到来的分组。因此，如果计算机1和计算机2同时向计算机3发送分组，那么在其他接口繁忙的期间，接口1或接口2会将分组保存起来。

因为交换机处理的是分组而不是信号，而且使用了中央结构单元提供的并行内部路径，实现了并行性，也即是允许同一时刻进行多个传输（假定传输是独立发生的，即在特定时刻只有一个分组正在被发送到一个特定的端口）。**因此如果一台交换机有N个端口连接N台计算机，同一时间可以进行N/2个传输。**



------

#### 18.12 分布式路由计算的两种基本方法是什么？它们各自是如何工作的？

答：分布式路径计算有两种常用的形式：

* 链路状态路由（LSR），采用Dijkstra算法
* 距离向量路由（DVR），采用另一种方法

**链路状态路由（LSR）**

对于链路状态路由协议来说，链路 是路由器上的一个接口。 有关各条链路的状态的信息称为链路状态。

检查如图所示的拓扑结构。 拓扑中的所有路由器都会完成下列链路状态通用路由过程来达到收敛：

1. 每台路由器了解其自身的链路和与其直连的网络。 这通过检测哪些接口处于工作状态来完成。
2. 每台路由器负责“问候”直连网络中的相邻路由器。 链路状态路由器通过与直连网络中的其他链路状态路由器互换 Hello 数据包来达到此目的。
3. 每台路由器创建一个链路状态数据包 (LSP)，其中包含与该路由器直接相连的每条链路的状态。 这通过记录每个邻居的所有相关信息（包括邻居 ID、链路类型和带宽）来完成。
4. 每台路由器将 LSP 泛洪到所有邻居。 这些邻居将收到的所有 LSP 存储到数据库。 接着，它们将 LSP 泛洪给自己的邻居，直到区域中的所有路由器均收到这些 LSP 为止。 每台路由器会在本地数据库中存储邻居发来的 LSP 的副本。
5. 每台路由器使用数据库构建一个完整的拓扑图并计算通向每个目的网络的最佳路径。 就像拥有了地图一样，路由器现在拥有关于拓扑中所有目的地以及通向各个目的地的路由的完整地图。 SPF 算法用于构建该拓扑图并确定通向每个网络的最佳路径。

其中的Dijkstra算法如下：![New Doc 2017-12-01 (3)_1](../../../Downloads/New Doc 2017-12-01 (3)_1.jpg)

**距离向量路由（DVR）**

1. 使用这个算法的路由器必须掌握这个距离表(它是一个一维排列-“一个向量”)，它告诉在网络中每个节点的最远和最近距离。在距离表中的这个信息是根据临近接点信息的改变而时时更新的。表中数
2. 据的量和在网络中的所有的接点(除了它自己本身)是等同的。这个表中的列代表直接和它相连的邻居，行代表在网络中的所有目的地。每个数据包括传送数据包到每个在网上的目的地的路径和距离/或时间在那个路径上来传输(我们叫这个为“成本”)。这个在那个算法中的度量公式是跳跃的次数， 等待时间，流出数据包的数量，等等。
3. 在距离向量路由算法中，相邻路由器之间周期性地相互交换各自的路由表备份。当网络拓扑结构发生变化时，路由器之间也将及时地相互通知有关变更信息。

距离向量算法的路径计算具体如下：![New Doc 2017-12-01 (3)_2](../../../Downloads/New Doc 2017-12-01 (3)_2.jpg)